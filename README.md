# Signal Generation Using Sensors with I2C Interface

This repository holds the project for signal generation using sensors with I2C interface. The project involves sampling, storing, displaying, and recreating analog waveforms.

## Specification

### Parts List

- Trenz ZynqBerry board with GPIO Expansion board
- One function generator
- One 16x2 character I2C LCD display module
- A PCF8591 ADC-DAC module with I2C interface
- A couple of Op-AMPs (LM741/LM358 compatible), capacitors, resistors, etc.

### System Design

Design a system to sample, store, display, and (re)create analog waveforms with the following features:

- **Reset**: Uses an onboard button BTN0.
- **Vivado Version**: Use Vivado 2022.2.

### Op-Amp Adder Circuit

- Periodic sinusoidal waveforms are generated by function generators.
- Input waveform should have a peak-to-peak amplitude of 3.3 Volts.
- The ADCs should sample positive analog voltages; thus, the input signal needs to be added to 1.67 volts using an op-amp adder with a gain of 1.

### ADC

The PCF8591 module has 4 input channels: AIN0, AIN1, AIN2, and AIN3.
- **Connection**:
  - **AIN0**: Jumper P5 – Light Dependent Resistor (LDR)
  - **AIN1**: Jumper P4 – Thermistor (TEMP)
  - **AIN2**: Output of the Op-Amp Circuit (ANALOG_INPUT)
  - **AIN3**: Jumper P6 – Potentiometer (POT)

### PWM

- The system should have a PWM output.
- The duty cycle of the PWM signal is proportional to the 8-bit value of the data.
- The user can select between the 4 inputs to determine the PWM duty-cycle using an onboard button (BTN1).
- The PWM output when AIN2 is used should pass through a low-pass filter to reconstruct the input sinusoidal waveform and displayed on the oscilloscope along with the original input.

### Clock Generation

- The system can generate a clock output with a frequency varying between 500 to 1500 Hz, controlled by the Potentiometer, Thermistor, and LDR.
- This module can be enabled or disabled using the same button (BTN1).
- On-board LEDs indicate the states.

### LCD

- An I2C LCD is connected to the Zynq board.
- Use the 4-bit data option for the LCD.
- The LCD displays the selected source (LDR, TEMP, or POT) for the PWM signal on the first line.
- The second line of the LCD displays “Clock Output” to indicate if the system is generating a clock.

### Objectives

- Maximize the bandwidth of analog signals that can be sampled, stored, and analyzed without aliasing.
- Minimize the error for the desired frequency.

## Note

Please take a look at the project concept diagram included in the repository for an idea of how each component connects.
